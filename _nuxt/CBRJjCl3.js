import y from"./CXF0SzQc.js";import{r as d,b as $,o as x,g as M,m as E,k as V,e as r,H as c,I as v,i as a,y as h}from"./D0yDvV06.js";import{MaskInput as w}from"./C-HtRo3Q.js";const g=new WeakMap,A=(o,e)=>{if(o.arg==null||o.instance==null)return;const m="setup"in o.instance.$.type;o.arg in o.instance?o.instance[o.arg]=e:m&&console.warn("Maska: please expose `%s` using defineExpose",o.arg)},I=(o,e)=>{var m;const s=o instanceof HTMLInputElement?o:o.querySelector("input");if(s==null||(s==null?void 0:s.type)==="file")return;let l={};if(e.value!=null&&(l=typeof e.value=="string"?{mask:e.value}:{...e.value}),e.arg!=null){const i=f=>{const b=e.modifiers.unmasked?f.unmasked:e.modifiers.completed?f.completed:f.masked;A(e,b)};l.onMaska=l.onMaska==null?i:Array.isArray(l.onMaska)?[...l.onMaska,i]:[l.onMaska,i]}g.has(s)?(m=g.get(s))==null||m.update(l):g.set(s,new w(s,l))},U={class:"m-form-label"},C=["placeholder"],R={class:"m-form-label"},B=["placeholder"],S={class:"m-form-label"},z=["placeholder"],F={class:"m-form-label"},H=["placeholder"],N={class:"m-form-label"},T=["placeholder"],P={__name:"s-form-profile",setup(o){const e=d({name:"",surname:"",about:"",phone:"",email:""}),m=d(!1),s=d(!1),l=d(!1),i=d(!1),f=d(!1),b=()=>{m.value=!1,s.value=!1,l.value=!1,i.value=!1,f.value=!1;const u=/^[A-Za-zА-Яа-яЁё]+$/,t=/^\d+$/,k=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,n=/^[^<>]{0,240}$/;let p=!0;(!e.value.name||!u.test(e.value.name))&&(m.value=!0,p=!1),(!e.value.surname||!u.test(e.value.surname))&&(s.value=!0,p=!1),(!e.value.phone||!t.test(e.value.phone))&&(l.value=!0,p=!1),(!e.value.email||!k.test(e.value.email))&&(i.value=!0,p=!1),e.value.about&&(!n.test(e.value.about)||e.value.about.length>360)&&(f.value=!0,p=!1),p&&console.log("Форма валидна:",e.value)},_=$("userInformation");return x(()=>{_.value&&_.value.email&&(e.value.email=_.value.email)}),(u,t)=>{const k=y;return E(),M(k,{button:u.$t("form.send"),onSendForm:b},{default:V(()=>[r("label",U,[c(r("input",{"onUpdate:modelValue":t[0]||(t[0]=n=>a(e).name=n),class:h(["m-form-input m-form-input-name",{_error:a(m)}]),type:"text",placeholder:u.$t("form.name")},null,10,C),[[v,a(e).name,void 0,{trim:!0}]])]),r("label",R,[c(r("input",{"onUpdate:modelValue":t[1]||(t[1]=n=>a(e).surname=n),class:h(["m-form-input m-form-input-surname",{_error:a(s)}]),type:"text",placeholder:u.$t("form.surname")},null,10,B),[[v,a(e).surname,void 0,{trim:!0}]])]),r("label",S,[c(r("input",{"onUpdate:modelValue":t[2]||(t[2]=n=>a(e).phone=n),class:h(["m-form-input m-form-input-phone",{_error:a(l)}]),type:"text",placeholder:u.$t("form.phone")},null,10,z),[[v,a(e).phone],[a(I),"+7 (###) ###-##-##"]])]),r("label",F,[c(r("input",{"onUpdate:modelValue":t[3]||(t[3]=n=>a(e).email=n),class:h(["m-form-input m-form-input-email",{_error:a(i)}]),type:"text",placeholder:u.$t("form.email")},null,10,H),[[v,a(e).email,void 0,{trim:!0}]])]),r("label",N,[c(r("textarea",{"onUpdate:modelValue":t[4]||(t[4]=n=>a(e).about=n),class:h(["m-form-textarea m-form-input-about",{_error:a(f)}]),type:"text",placeholder:u.$t("form.about")},null,10,T),[[v,a(e).about,void 0,{trim:!0}]])])]),_:1},8,["button"])}}};export{P as default};
